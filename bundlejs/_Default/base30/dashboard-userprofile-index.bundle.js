function TabPages(){this.Extend=function(e,t,a){var n=e.dataset.activeTabNumber;this.SelectedTabNumber=+n||-1,this.NavElement=e,this.Tabs=t,this.TabContains=a,this.Process()},this.SetActive=function(e){this.SelectedTabNumber=+e||-1,this.NavElement.dataset.activeTabNumber=+e||-1,this.Tabs[--e].dataset.enable="True"},this.SetDeActive=function(e){var t=--e;null!=this.Tabs[t]&&(this.Tabs[t].dataset.enable="False")},this.Process=function(){for(var e=this,t=0;t<this.Tabs.length;t++)this.Tabs[t].addEventListener("click",function(t){if("False"!=t.currentTarget.dataset.enable&&"False"!=t.target.dataset.enable&&(t.currentTarget.dataset.tabUrl&&history.replaceState(null,null,t.currentTarget.dataset.tabUrl),e.SelectedTabNumber=+t.currentTarget.dataset.tab||-1,e.NavElement.dataset.activeTabNumber=e.SelectedTabNumber,t.currentTarget.dataset.callback)){for(var a=null,n=0;n<e.TabContains.length;n++)if(e.TabContains[n].dataset.tabContent===t.currentTarget.dataset.tab){a=e.TabContains[n];break}Site.GetFunction(t.currentTarget.dataset.callback,["tabNumber","tabContainerElement"]).apply(t.currentTarget,[e.SelectedTabNumber,a])}})},this.Init=function(e){var t=document.querySelector(e);if(t){var a=t.parentNode.querySelectorAll("[data-tab]"),n=t.parentNode.querySelectorAll("[data-tab-content]");this.Extend(t,a,n)}}}var content1,txtVnLocationId,content2,btnCancel,btnSubmitPlaceId,btnSubmitAvarta,avartaInputFile,base64Image,tabs,imgAvarta;function loadLocationAutoComplete(){$("#VnLocationAddressAutocomplete").autocomplete({appendTo:"#suggestListLocationContainer",serviceUrl:"/shopingcart/searchlocationcomplete?loadLevel2=True",deferRequestBy:300,minChars:3,noCache:!0,onSelect:function(e){txtVnLocationId.value=e.data.id},triggerSelectOnValidInput:!1,showNoSuggestionNotice:!0,noSuggestionNotice:"Không tìm thấy địa chỉ",formatResult:function(e,t){return"<div class='padding-5  _cursor-poiter' level="+e.data.level+" data-vnlocation-id='"+e.data.id+"'>"+e.value+"</div>"},lookupFilter:function(e,t,a){return new RegExp("\\b"+$.Autocomplete.utils.escapeRegExChars(a),"gi").test(e.value)},onSearchStart:function(e){Site.AddClassElement(btnSearchWard,"active"),txtVnLocationId.value=""},onSearchComplete:function(e,t){Site.RemoveClassElement(btnSearchWard,"active")}})}function initUserProfileIndex(){content1=document.getElementById("content1"),content2=document.getElementById("content2"),btnCancel=document.getElementById("btnCancel"),btnSubmitPlaceId=document.getElementById("btnSubmitPlaceId"),btnSubmitAvarta=document.getElementById("btnSubmitAvarta"),avartaInputFile=document.getElementById("avartaUpload"),base64Image=document.getElementById("base64Image"),imgAvarta=document.getElementById("imgAvarta"),txtVnLocationId=document.getElementById("RequestCollaboratorsViewModel_VnLocationId")}function loadCleave(){var e=document.getElementById("BasicUserInfoViewModel_PhoneNumber");new Cleave(e,{numericOnly:!0,delimiters:[" "," "," "],blocks:[4,3,5]}),new Cleave("#BasicUserInfoViewModel_Birthday",{date:!0,datePattern:["d","m","Y"]})}function loadAvarta(){var e=document.getElementById("resizeContainer"),t=new Croppie(e,{viewport:{width:80,height:80},boundary:{width:160,height:120},showZoomer:!0,enableResize:!1,enableOrientation:!0});avartaInputFile.addEventListener("change",function(e){if(e.target.files&&e.target.files[0]){var a=new FileReader;a.onload=function(e){content1.classList.add("hide"),content2.classList.remove("hide"),t.bind({url:e.target.result})},a.readAsDataURL(e.target.files[0])}}),btnCancel.addEventListener("click",function(e){content1.classList.remove("hide"),content2.classList.add("hide")}),btnSubmitAvarta.addEventListener("click",function(e){t.result("base64").then(function(e){base64Image.value=e})})}function ChangeAvarta(e,t){"success"===t&&(imgAvarta.src=e+"?clearcache="+(new Date).getTime(),btnCancel.click())}document.addEventListener("DOMContentLoaded",function(){initUserProfileIndex(),loadCleave(),loadAvarta(),(tabs=new TabPages).Init("[data-active-tab-number]"),tabs.Tabs[tabs.SelectedTabNumber-1].click(),loadLocationAutoComplete()});