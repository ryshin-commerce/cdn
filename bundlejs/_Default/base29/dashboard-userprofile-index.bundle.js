function TabPages(){this.Extend=function(e,t,a){var n=e.dataset.activeTabNumber;this.SelectedTabNumber=+n||-1,this.NavElement=e,this.Tabs=t,this.TabContains=a,this.Process()},this.SetActive=function(e){this.SelectedTabNumber=+e||-1,this.NavElement.dataset.activeTabNumber=+e||-1,this.Tabs[--e].dataset.enable="True"},this.SetDeActive=function(e){e=--e;null!=this.Tabs[e]&&(this.Tabs[e].dataset.enable="False")},this.Process=function(){for(var n=this,e=0;e<this.Tabs.length;e++)this.Tabs[e].addEventListener("click",function(e){if("False"!=e.currentTarget.dataset.enable&&"False"!=e.target.dataset.enable&&(e.currentTarget.dataset.tabUrl&&history.replaceState(null,null,e.currentTarget.dataset.tabUrl),n.SelectedTabNumber=+e.currentTarget.dataset.tab||-1,n.NavElement.dataset.activeTabNumber=n.SelectedTabNumber,e.currentTarget.dataset.callback)){for(var t=null,a=0;a<n.TabContains.length;a++)if(n.TabContains[a].dataset.tabContent===e.currentTarget.dataset.tab){t=n.TabContains[a];break}Site.GetFunction(e.currentTarget.dataset.callback,["tabNumber","tabContainerElement"]).apply(e.currentTarget,[n.SelectedTabNumber,t])}})},this.Init=function(e){var t,a=document.querySelector(e);a&&(t=a.parentNode.querySelectorAll("[data-tab]"),e=a.parentNode.querySelectorAll("[data-tab-content]"),this.Extend(a,t,e))}}var content1,txtVnLocationId,content2,btnCancel,btnSubmitPlaceId,btnSubmitAvarta,avartaInputFile,base64Image,tabs,imgAvarta;function loadLocationAutoComplete(){$("#VnLocationAddressAutocomplete").autocomplete({appendTo:"#suggestListLocationContainer",serviceUrl:"/shopingcart/searchlocationcomplete?loadLevel2=True",deferRequestBy:300,minChars:3,noCache:!0,onSelect:function(e){txtVnLocationId.value=e.data.id},triggerSelectOnValidInput:!1,showNoSuggestionNotice:!0,noSuggestionNotice:"Không tìm thấy địa chỉ",formatResult:function(e,t){return"<div class='padding-5  _cursor-poiter' level="+e.data.level+" data-vnlocation-id='"+e.data.id+"'>"+e.value+"</div>"},lookupFilter:function(e,t,a){return new RegExp("\\b"+$.Autocomplete.utils.escapeRegExChars(a),"gi").test(e.value)},onSearchStart:function(e){Site.AddClassElement(btnSearchWard,"active"),txtVnLocationId.value=""},onSearchComplete:function(e,t){Site.RemoveClassElement(btnSearchWard,"active")}})}function initUserProfileIndex(){content1=document.getElementById("content1"),content2=document.getElementById("content2"),btnCancel=document.getElementById("btnCancel"),btnSubmitPlaceId=document.getElementById("btnSubmitPlaceId"),btnSubmitAvarta=document.getElementById("btnSubmitAvarta"),avartaInputFile=document.getElementById("avartaUpload"),base64Image=document.getElementById("base64Image"),imgAvarta=document.getElementById("imgAvarta"),txtVnLocationId=document.getElementById("RequestCollaboratorsViewModel_VnLocationId")}function loadCleave(){var e=document.getElementById("BasicUserInfoViewModel_PhoneNumber");new Cleave(e,{numericOnly:!0,delimiters:[" "," "," "],blocks:[4,3,5]}),new Cleave("#BasicUserInfoViewModel_Birthday",{date:!0,datePattern:["d","m","Y"]})}function loadAvarta(){var e=document.getElementById("resizeContainer"),a=new Croppie(e,{viewport:{width:80,height:80},boundary:{width:160,height:120},showZoomer:!0,enableResize:!1,enableOrientation:!0});avartaInputFile.addEventListener("change",function(e){var t;e.target.files&&e.target.files[0]&&((t=new FileReader).onload=function(e){content1.classList.add("hide"),content2.classList.remove("hide"),a.bind({url:e.target.result})},t.readAsDataURL(e.target.files[0]))}),btnCancel.addEventListener("click",function(e){content1.classList.remove("hide"),content2.classList.add("hide")}),btnSubmitAvarta.addEventListener("click",function(e){a.result("base64").then(function(e){base64Image.value=e})})}function ChangeAvarta(e,t){"success"===t&&(imgAvarta.src=e+"?clearcache="+(new Date).getTime(),btnCancel.click())}document.addEventListener("DOMContentLoaded",function(){initUserProfileIndex(),loadCleave(),loadAvarta(),(tabs=new TabPages).Init("[data-active-tab-number]"),tabs.Tabs[tabs.SelectedTabNumber-1].click(),loadLocationAutoComplete()});