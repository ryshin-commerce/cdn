"use strict";var txtQuantities,txtVolume,txtPrices,orderItemLis,weightElement,incomeDisplayElement,totalSellingMoney,totalIncomeMoney,totalSellingMoneyElement,totalIncomeMoneyElement,tbodyElement,txtOrderPopupId,imputDocumentFile,fileUploadNewReview,AjaxRequest={SendFormData:function(e,t,a,n,r){var i=new XMLHttpRequest;i.open(e,t,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.onreadystatechange=function(e){try{i.readyState===XMLHttpRequest.DONE&&i.status>=200&&i.status<300&&n(i.responseText,i.status)}catch(e){r&&r(e),console.log(e),alert("There was an error processing your request. Please try again later.",!1)}},i.send(a)},SendRequestGetJson:function(e,t,a,n){var r=new XMLHttpRequest,i=new FormData;for(name in a)i.append(name,a[name]);r.open(e,t,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onreadystatechange=function(e){try{r.readyState===XMLHttpRequest.DONE&&r.status>=200&&r.status<300&&n(r.responseText,r.status)}catch(e){console.log(e),alert("There was an error processing your request. Please try again later.",!1)}},r.send(i)}};function FileUpload(){this.InputElement=null,this.PreviewBoxElement=null,this.CurentImageBox=null,this.Form=null,this.MaxFile=null,this.StoredFiles=[],this.CurentFiles=[],this.CurentPreviewImages=[],this.Extend=function(e,t,a,n,r,i,o,l,d,s,c,u){this.InputElement=n,this.AcceptExtention=n.accept.split(","),this.PreviewBoxElement=i,this.CurentImageBox=r,this.Form=o,this.UniqueControlName=c?"CurentFilePaths":"NewFiles"+c,this.MaxFile=l||2,this.MaxFileSize=u||5242880,this.InputChangeCallBack=void 0!==d?d:null,this.InputElement.addEventListener("change",this.InputChange),this.InputElement.fileUpload=this,this.FileReader=new FileReader,this.IsCreateInputName=s||!1,this.HostCdn=e||"",this.CurentFiles=t||[],this.CurentPreviewImages=a||[],this.Process()},this.Process=function(){if(this.CurentImageBox)for(var e=this,t=0;t<this.CurentFiles.length;t++){var a=this.CurentFiles[t],n=this.CurentPreviewImages[t],r=document.createElement("div");r.className="col-3 gutter-10 _p-item text-center";var i=document.createElement("figure");i.className="_max-height-200 relative hover-children-show";var o=document.createElement("button");o.className="absolute hide tablet-show -border width-100 height-100 _fill-silver-opacity text-strong",o.innerText="CLICK ĐỂ XÓA",o.type="button",o.dataset.file=a,o.dataset.notClose="I",o.addEventListener("click",function(t){e.RemoveCurentFile(t,e.InputElement)});var l,d,s=a.substring(a.lastIndexOf("/")+1),c=s.substring(s.indexOf(".")+1);if(("."+c).match(".jpg,.png,.svg,.gif,.jfif,.webp,.csv".replace(new RegExp(",","g"),"|"))?l="<img class='_max-width-100-percent'   onerror='this.src=\"/images/shared/no-image.svg\"'   src='"+e.HostCdn+"/"+n+"' alt='"+s+"' data-file='"+s+"' /><figcaption class='padding-5 text-center _text-ellipsis'>"+s+"</figcaption>":(l="<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' version='1'><path d='M128 0c-18 0-32 14-32 32v448c0 18 14 32 32 32h320c18 0 32-14 32-32V128L352 0H128z' fill='#e2e5e7'/><path d='M384 128h96L352 0v96c0 18 14 32 32 32z' fill='#b0b7bd'/><path fill='#cad1d8' d='M480 224l-96-96h96z'/><path d='M416 416c0 9-7 16-16 16H48c-9 0-16-7-16-16V256c0-9 7-16 16-16h352c9 0 16 7 16 16v160z' fill='#f15642'/><path d='M400 432H96v16h304c9 0 16-7 16-16v-16c0 9-7 16-16 16z' fill='#cad1d8'/><text y='375' x='212' style='line-height:1.25;text-align:center' font-weight='400' font-size='147' font-family='sans-serif' letter-spacing='0' word-spacing='0' text-anchor='middle' stroke-width='3'><tspan style='line-height:1.25;-inkscape-font-specification:'monospace Bold';text-align:center' y='375' x='212' font-weight='700' font-family='monospace' fill='#fff'>"+c+"</tspan></text></svg>",(d=document.createElement("div")).innerHTML="<div class='row text-center _text-ellipsis'><a target='_blank' href='"+e.HostCdn+"/"+n+"'>"+s+"</a></div>"),e.IsCreateInputName)l+="<input type='text' class='_hidden'    name='"+e.UniqueControlName+"' value="+a+(e.Form?" form='"+e.Form.id+"'":"")+"></input>";i.innerHTML=l,i.insertBefore(o,i.childNodes[0]),r.appendChild(i),d&&r.appendChild(d),e.CurentImageBox.appendChild(r)}},this.InputChange=function(e){var t=e.target.fileUpload,a=e.target.files,n=Array.prototype.slice.call(a);t.PreviewBoxElement.innerHTML="",t.StoredFiles=[];for(var r=0;r<n.length;r++){var i=n[r];if(i.size>t.MaxFileSize)Site.NotifyFormFailed("Lỗi","File không được lớn hơn "+t.MaxFileSize/1048576+" mb");else if(t.StoredFiles.push(i),t.PreviewBoxElement===t.CurentImageBox&&(t.CurentFiles=[],t.CurentImageBox.innerHTML=""),t.StoredFiles.length+t.CurentFiles.length<=t.MaxFile){var o=new FileReader;o.onload=function(e){var a=event.target,n=document.createElement("div");n.className="gutter-10 _p-item";var r=document.createElement("figure");r.className="_max-height-200 relative hover-children-show";var i,o=document.createElement("button");(o.className="absolute hide -border width-100 height-100 _fill-silver-opacity text-strong",o.type="button",o.innerText="CLICK ĐỂ XÓA",o.dataset.file=a.name,o.dataset.notClose="I",o.addEventListener("click",function(e){t.RemoveFile(e,t.InputElement)}),a.fileType.match("image.*"))?i="<img class='width-100 _max-width-100-percent' src='"+e.target.result+"' alt='"+a.name+"' data-file='"+a.name+"' /><figcaption class='padding-5 text-center _text-ellipsis'>("+a.size%1e3+" kb) "+a.name+"</figcaption>":i="<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 512 512' version='1'><path d='M128 0c-18 0-32 14-32 32v448c0 18 14 32 32 32h320c18 0 32-14 32-32V128L352 0H128z' fill='#e2e5e7'/><path d='M384 128h96L352 0v96c0 18 14 32 32 32z' fill='#b0b7bd'/><path fill='#cad1d8' d='M480 224l-96-96h96z'/><path d='M416 416c0 9-7 16-16 16H48c-9 0-16-7-16-16V256c0-9 7-16 16-16h352c9 0 16 7 16 16v160z' fill='#f15642'/><path d='M400 432H96v16h304c9 0 16-7 16-16v-16c0 9-7 16-16 16z' fill='#cad1d8'/><text y='375' x='212' style='line-height:1.25;text-align:center' font-weight='400' font-size='147' font-family='sans-serif' letter-spacing='0' word-spacing='0' text-anchor='middle' stroke-width='3'><tspan style='line-height:1.25;-inkscape-font-specification:'monospace Bold';text-align:center' y='375' x='212' font-weight='700' font-family='monospace' fill='#fff'>"+a.name.substring(a.name.indexOf(".")+1)+"</tspan></text></svg><figcaption class='padding-5 text-center _text-ellipsis'>("+a.size%1e3+" kb) "+a.name+"</figcaption>";t.IsCreateInputName&&(i+="<input type='text' class='_hidden' name='"+t.UniqueControlName+"[]' value="+a.name+(t.Form?" form='"+t.Form.id+"'":"")+"></input>");r.innerHTML=i,r.insertBefore(o,r.childNodes[0]),n.appendChild(r),t.PreviewBoxElement.appendChild(n)},o.size=i.size,o.fileType=i.type,o.name=i.name,o.readAsDataURL(i)}}t.InputChangeCallBack&&t.InputChangeCallBack(t.StoredFiles)},this.RemoveCurentFile=function(e){for(var t=e.target.dataset.file,a=0;a<this.CurentFiles.length;a++)if(this.CurentFiles[a]===t){this.CurentFiles.splice(a,1);break}Site.FindParent(e.target,"_p-item").remove()},this.RemoveFile=function(e,t){for(var a=e.target.dataset.file,n=0;n<this.StoredFiles.length;n++)if(this.StoredFiles[n].name===a){this.StoredFiles.splice(n,1);break}Site.FindParent(e.target,"_p-item").remove(),Site.ClearInputFile(t)},this.Init=function(e,t,a,n,r,i,o,l,d,s,c,u){var m=document.querySelector(n),p=document.querySelector(i),h=document.querySelector(r),y=document.querySelector(o);null!=m&&null!=p||console.warn(n+" or "+p+": NULL"),this.Extend(e,t,a,m,h,p,y,l,d,s,c,u)}}function innitOrderDetail(){tbodyElement=document.querySelector("tbody"),orderItemLis=document.querySelectorAll("[data-order-item]"),weightElement=document.querySelector("[data-weight-display]"),totalSellingMoneyElement=document.querySelector("[data-total-selling-money]"),txtVolume=document.getElementById("Volumn"),totalIncomeMoneyElement=document.querySelector("[data-total-income-money]"),txtQuantities=document.querySelectorAll("[data-quantity]"),txtPrices=document.querySelectorAll("[data-price]");for(var e=0;e<txtQuantities.length;e++)txtQuantities[e].addEventListener("change",reloadCartMoney);for(e=0;e<txtPrices.length;e++)txtPrices[e].addEventListener("change",reloadCartMoney);txtOrderPopupId=document.getElementById("orderPopupId")}function reloadShipmentAddress(){var e=document.querySelector("[data-order-shipment-id]");txtOrderPopupId.value=e.dataset.orderShipmentId,document.getElementById("btnShowDeleveryDetailModel").click()}function lazyLoadOrderList(){}function initSearchBar1(){var e="/product/searchproductautocompleteproductclass";userId&&(e="/product/searchproductautocompleteproductclass?userId="+userId),$("#autocomplete1").autocomplete({appendTo:"#suggestListContainer1",serviceUrl:e,deferRequestBy:250,minChars:3,noCache:!0,onSelect:function(e){productClassItemClick(e)},showNoSuggestionNotice:!0,noSuggestionNotice:"Không tìm thấy sản phẩm",formatResult:function(e,t){var a=e.data.quantity;return"<div class='padding-5  _cursor-poiter ' data-classId='"+e.data.Id+"'><div class='inline-block _image-wrap'><img width='40' height='40' src='"+e.data.image+"' /></div><div class='inline "+(0===+a?"text-warning":"")+"' data-product-name>"+e.value+e.data.className+(0===a?"":" ("+a+")")+"</div></div>"},lookupFilter:function(e,t,a){return new RegExp("\\b"+$.Autocomplete.utils.escapeRegExChars(a),"gi").test(e.value)},onSearchStart:function(e){Site.AddClassElement(btnSearchProductName1,"active")},onSearchComplete:function(e,t){Site.RemoveClassElement(btnSearchProductName1,"active")}})}function productClassItemClick(e){for(var t=0;t<listProductClasses.length;t++)if(listProductClasses[t]===e.data.id)return;listProductClasses.push(e.data.id);var a=e.data.oneItemPrice,n=document.createElement("tr");n.setAttribute("data-order-item",""),n.setAttribute("data-discount-percent",e.data.discountPercent),n.className="padding-v-10 border-top border-1 border-solid",n.innerHTML="<td class='text-left padding-left-5'><input class='_hidden' data-product-id='"+e.data.id+"' data-weight='"+e.data.weight+"' data-x='"+e.data.sizeX+"'  data-y='"+e.data.sizeY+"'  data-z='"+e.data.sizeZ+"' > <img class=' _vertical-align-middle' width='36' src='"+e.data.image+"'> <span class=' _vertical-align-middle'> "+e.value+e.data.className+" </span> </td><td  data-secure data-collaborators-price='"+e.data.collaboratorsPrice+"' class='padding-top-5'>"+WNumbHelper.GetFrNumber(e.data.collaboratorsPrice)+"</td><td class='padding-right'> <input class='_hidden' data-product-class-id name='OrderItemQuantityPrices[0].ProductClassificationId' value='"+e.data.id+"' /> <input type='number' data-quantity name='OrderItemQuantityPrices[0].Quantity' class='-round text-right' step='1' min='0' value='1' max='"+e.data.inWarehouse+"' title='SL' size='74' pattern='[0-9]*'> </td><td class='1'><div class='relative'> <input type='number' data-init-price class='hide' name='OrderItemQuantityPrices[0].Price'  value='"+a+"' ><span class='"+(e.data.discountPercent>0?"":"hide")+"'><del class='text-silver text-12'>@item.Price -"+e.data.discountPercent+"%</del></span><input type='number'  data-price='"+JSON.stringify(e.data.tuplePrices)+"' name='OrderItemQuantityPrices[0].OrderItemPrice' class='inline-block float-right _max-width-100 -round text-right' step='100' min='0' value='"+a+"' pattern='[0-9]*'></div> </td><td class='padding-right-20 text-right'> <div class='text-strong'> <span data-money>0</span> <sup>đ</sup> </div></td><td  data-secure class='padding-right-20 text-right'> <div class='text-strong'> <span data-income>0</span> <sup>đ</sup> </div></td>",tbodyElement.appendChild(n),reloadOrder(),innitOrderDetail(),reloadCartMoney()}function reloadOrder(){for(var e=document.querySelectorAll("[data-order-item]"),t=0;t<e.length;t++){var a=e[t].querySelector("[data-product-class-id]"),n=e[t].querySelector("[data-order-id]"),r=e[t].querySelector("[data-quantity]"),i=e[t].querySelector("[data-price]"),o=e[t].querySelector("[data-init-price]");a.name="OrderItemQuantityPrices["+t+"].ProductClassificationId",n&&(n.name="OrderItemQuantityPrices["+t+"].OrderItemId"),r.name="OrderItemQuantityPrices["+t+"].Quantity",i.name="OrderItemQuantityPrices["+t+"].OrderItemPrice",o.name="OrderItemQuantityPrices["+t+"].Price"}}function clearTable(){tbodyElement.innerHTML="",listProductClasses=[]}function updateQuantity(e){var t=e.parentNode.parentNode.querySelector("[data-warehouse-quantity]");if(null!=t){var a=+e.querySelector("[data-quantity]").value;t.innerHTML=+t.innerHTML+a}}function reloadCartMoney(){for(var e=0,t=0,a=0,n=0;n<orderItemLis.length;n++){incomeDisplayElement=orderItemLis[n].querySelector("[data-income]");var r=orderItemLis[n].querySelector("[data-money]"),i=orderItemLis[n].querySelector("[data-x]").dataset.x,o=orderItemLis[n].querySelector("[data-y]").dataset.y,l=orderItemLis[n].querySelector("[data-z]").dataset.z,d=orderItemLis[n].querySelector("[data-weight]").dataset.weight,s=orderItemLis[n].querySelector("[data-quantity]").value;e+=+s*+d,weightElement.innerHTML=WNumbHelper.GetFrNumber(e);var c=orderItemLis[n].querySelector("[data-collaborators-price]").dataset.collaboratorsPrice*s,u=getUnitPrice(JSON.parse(orderItemLis[n].querySelector("[data-price]").dataset.price),s);orderItemLis[n].dataset.discountPercent;orderItemLis[n].querySelector("[data-init-price]").value=u;var m=s*+orderItemLis[n].querySelector("[data-price]").value;r.innerHTML=WNumbHelper.GetFrNumber(m),incomeDisplayElement.innerHTML=WNumbHelper.GetFrNumber(m-c),t+=m,a+=m-c}totalSellingMoneyElement.innerHTML=WNumbHelper.GetFrNumber(t),totalSellingMoneyElement.dataset.money=t,totalIncomeMoneyElement.innerHTML=WNumbHelper.GetFrNumber(a),loadRPoint()}function getUnitPrice(e,t){for(var a=e[e.length-1].money,n=e.length-1;n>=0&&!(0!==e[n].quantity&&+t>=e[n].quantity);n--)a=e[n].money;return a}function innitFileUploadBK(){var e=document.getElementById("inputCollaboratorOrderExist"),t=e.dataset.curentPathFiles&&""!==e.dataset.curentPathFiles?[e.dataset.curentPathFiles]:null,a=e.dataset.curentShowingImages&&""!==e.dataset.curentShowingImages?[e.dataset.curentShowingImages]:null,n=e.dataset.maxSize?+e.dataset.maxSize:5242880;(new FileUpload).Init(e.dataset.host,t,a,"#inputCollaboratorOrderExist","#newReviewContainer","#newReviewContainer","#frmUpdateOrder",1,console.log("change"),!0,"CollaboratorOrderExist",n)}function innitFileUpload(){if(imputDocumentFile=document.getElementById("inputCollaboratorOrderExist")){var e=imputDocumentFile.dataset.curentPathFiles&&""!==imputDocumentFile.dataset.curentPathFiles?[imputDocumentFile.dataset.curentPathFiles]:null,t=imputDocumentFile.dataset.curentShowingImages&&""!==imputDocumentFile.dataset.curentShowingImages?[imputDocumentFile.dataset.curentShowingImages]:null,a=imputDocumentFile.dataset.maxFile&&""!==imputDocumentFile.dataset.maxFile?+imputDocumentFile.dataset.maxFile:3,n=imputDocumentFile.dataset.maxFile&&""!==imputDocumentFile.dataset.maxSize?+imputDocumentFile.dataset.maxSize:5242880;(fileUploadNewReview=new FileUpload).Init(imputDocumentFile.dataset.host,e,t,"#inputCollaboratorOrderExist","#newReviewContainer","#newReviewContainer","#frmUpdateOrder",a,console.log("change"),!0,"CollaboratorOrderExist",n)}}function processItemPrice(e){reloadCartMoney()}function loadRPoint(){if(totalSellingMoneyElement){var e=+totalSellingMoneyElement.dataset.money;if(txtShipPrice){var t=+txtShipPrice.value,a=document.querySelector("[data-user-rpoint]");if(a){var n=a.dataset.userRpoint;a.innerText=WNumbHelper.GetFrNumber(Math.min(e+t,n))+" điểm R-Point"}}}}document.addEventListener("DOMContentLoaded",function(){innitOrderDetail(),reloadCartMoney(),initSearchBar1(),reloadShipmentAddress(),innitFileUpload()});var txtAddress,txtId,txtVnLocationName,txtVnLocationId,txtShipPrice,txtNormalShipPrice,txtServiceId,txtLatitude,txtLongitude,spanDataShipAddress,txtOrderMoney,txtWeight,txtVolumn,chkIsFastShip,spanShipDiscountPercent,shipInfoResponses,shipExpressInfoResponses,cacheVnLocation,curentSelectedDelivery,curentServiceId,_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){(0,_defineProperty2.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function initViewComponent(){var e=document.querySelectorAll("#frmShipInfo");Site.BindingAjaxForm("#frmShipInfo"),Site.ReValidateForm(e),(txtAddress=document.getElementById("Address"))&&(txtAddress.addEventListener("keyup",function(e){updateRealAddress()}),txtLatitude=document.getElementById("Latitude"),txtLongitude=document.getElementById("Longitude"),txtId=document.getElementById("ShippingAddressId"),txtOrderMoney=document.getElementById("OrderMoney"),txtWeight=document.getElementById("Weight"),txtVolumn=document.getElementById("Volumn"),txtServiceId=document.getElementById("ServiceId"),curentSelectedDelivery=document.querySelector("#frmShipInfo #InitDeliveryType").value,curentServiceId=document.querySelector("#frmShipInfo #ServiceId").value,txtWeight.addEventListener("change",function(e){submitLazyLoadDefaultDelivery(!0)}),txtVolumn.addEventListener("change",function(e){submitLazyLoadDefaultDelivery(!0)}),chkIsFastShip=document.getElementById("IsFastShip"),txtVnLocationName=document.getElementById("VnLocationName"),txtVnLocationId=document.getElementById("VnLocationId"),txtShipPrice=document.getElementById("ShipPrice"),txtNormalShipPrice=document.getElementById("NormalShipPrice"),spanShipDiscountPercent=document.getElementById("shipDiscountPercent"),cacheVnLocation=txtVnLocationId.value,txtVnLocationName.addEventListener("keyup",function(e){updateRealAddress()}),spanDataShipAddress=document.querySelector("[data-ship-address]"),loadLocationAutoComplete(),updateRealAddress(),lazyLoadSuggestLocation(),submitLazyLoadDefaultDelivery())}function updateRealAddress(){spanDataShipAddress.innerHTML=txtAddress.value?(txtAddress.value+", "+txtVnLocationName.value).trim():txtVnLocationName.value}function loadLocationAutoComplete(){$("#VnLocationName").autocomplete({appendTo:"#suggestListLocationContainer",serviceUrl:"/shopingcart/searchlocationcomplete",deferRequestBy:100,minChars:3,noCache:!0,onSelect:function(e){updateRealAddress(e),txtVnLocationId.value=e.data.id,cacheVnLocation!=e.data.id&&(submitLazyLoadDefaultDelivery(),lazyLoadSuggestLocation(),cacheVnLocation=e.data.id)},showNoSuggestionNotice:!0,noSuggestionNotice:"Không tìm thấy địa chỉ",formatResult:function(e,t){return"<div class='padding-5  _cursor-poiter' level="+e.data.level+" data-vnlocation-id='"+e.data.id+"'>"+e.value+"</div>"},lookupFilter:function(e,t,a){return new RegExp("\\b"+$.Autocomplete.utils.escapeRegExChars(a),"gi").test(e.value)},onSearchStart:function(e){txtVnLocationId.value=""},onSearchComplete:function(e,t){}})}function UpdateShipmentInfo(e){var t=Array.from(shipInfoResponses).filter(function(t){return t.shipmentTypeEnum==+e})[0];if(t){var a=t.normalShipPrice;txtNormalShipPrice.value=a,spanShipDiscountPercent.innerText="giảm "+t.shipDiscountPercent+" % theo hỗ trợ vận chuyển"}}function UpdatePriceAndSelectedItem(e,t){var a,n;curentSelectedDelivery=e||curentSelectedDelivery,curentServiceId=t||curentServiceId;var r=document.querySelectorAll("[data-list-delivery-container] label input"),i=(r=Array.from(r)).map(function(e){return{radio:e,disabled:e.disabled,shipmentTypeEnum:e.value,serviceId:e.dataset.serviceId,price:+e.dataset.price||0,virtualCost:+e.dataset.virtualCost||0}}).filter(function(e){return!e.disabled&&e.shipmentTypeEnum&&e.price>0}).map(function(e){return _objectSpread(_objectSpread({},e),{},{sortPrice:e.price-e.virtualCost})});i.sort(function(e,t){return e.sortPrice===t.sortPrice?t.shipmentTypeEnum-e.shipmentTypeEnum:e.sortPrice-t.sortPrice});var o=i.find(function(e){return e.shipmentTypeEnum===selectedShipmentTypeEnum&&e.serviceId===t});if(o=null!==(n=o=null!==(a=o)&&void 0!==a?a:i.find(function(e){return e.shipmentTypeEnum===selectedShipmentTypeEnum}))&&void 0!==n?n:i.length>0?i[0]:null){var l,d,s,c;if(txtNormalShipPrice.value=null===(l=o)||void 0===l?void 0:l.dataset.price,txtServiceId.value=null===(d=o)||void 0===d?void 0:d.dataset.serviceId,e=o.value,!t)t=null===(s=o)||void 0===s?void 0:s.dataset.serviceId;if(o.checked=!0,+o.dataset.shipDiscountPercent>0)spanShipDiscountPercent.innerText=" giảm "+validRadioSelected.dataset.shipDiscountPercent+" % theo hỗ trợ vận chuyển",txtServiceId.value=null===(c=validRadioSelected)||void 0===c?void 0:c.dataset.serviceId}else txtServiceId.value=""}function initSuggestLocationViewComponent(){document.querySelector("[data-express-location]").classList.remove("hide");var e=document.querySelectorAll("._id-suggest-location-container input[type=radio]");if(e.length>0){for(var t=0;t<e.length;t++)e[t].addEventListener("change",function(){submitLazyLoadExpressDelivery(this)});var a=document.querySelector("._id-suggest-location-container input[type=radio]");a&&(a.checked=!0,a.dispatchEvent(new Site.CreateEvent("change")))}else submitLazyLoadExpressDelivery(this)}function lazyLoadSuggestLocation(){document.querySelector("#frmLazyLoadSuggestLocation [name=Address]").value=txtAddress.value,document.querySelector("#frmLazyLoadSuggestLocation [name=WarehouseId]").value=document.querySelector("#frmShipInfo #WarehouseId").value,document.querySelector("#frmLazyLoadSuggestLocation [name=VnDropLocationId]").value=txtVnLocationId.value,document.getElementById("btnLoadSuggestLocation").click()}function submitLazyLoadDefaultDelivery(e){var t=document.querySelector("[data-list-delivery] [type=radio]:checked");document.querySelector("#frmLazyLoadDeliveryNormal")&&(t&&(document.querySelector("#frmLazyLoadDeliveryNormal [name=ShipmentTypeEnum]").value=t.value),document.querySelector("#frmLazyLoadDeliveryNormal [name=TotalGoodsMoney]").value=+document.querySelector("[data-total-selling-money]").dataset.totalMoney,document.querySelector("#frmLazyLoadDeliveryNormal [name=WarehouseId]").value=document.querySelector("#frmShipInfo #WarehouseId").value,document.querySelector("#frmLazyLoadDeliveryNormal [name=DropAddress]").value=txtAddress.value,document.querySelector("#frmLazyLoadDeliveryNormal [name=VnDropLocationId]").value=txtVnLocationId.value,document.querySelector("#frmLazyLoadDeliveryNormal [name=Volumn]").value=txtVolumn.value,document.querySelector("#frmLazyLoadDeliveryNormal [name=Weight]").value=txtWeight.value,document.getElementById("btnLazyLoadDeliveryNormalSelector").click())}function submitLazyLoadExpressDelivery(e){if(!document.querySelector("._id-suggest-location-container [type=radio]:checked"))return document.querySelector("._idListExpress").innerHTML="",void UpdatePriceAndSelectedItem();document.querySelector("#frmLazyLoadDeliveryExpress [name=DropLatitude]").value=document.querySelector("._id-suggest-location-container [type=radio]:checked").dataset.latitude,document.querySelector("#frmLazyLoadDeliveryExpress [name=DropLongitude]").value=document.querySelector("._id-suggest-location-container [type=radio]:checked").dataset.longitude,txtLatitude.value=document.querySelector("._id-suggest-location-container [type=radio]:checked").dataset.latitude,txtLongitude.value=document.querySelector("._id-suggest-location-container [type=radio]:checked").dataset.longitude;var t=document.querySelector("[data-list-delivery] [type=radio]:checked");t&&(document.querySelector("#frmLazyLoadDeliveryExpress [name=ShipmentTypeEnum]").value=t.value),document.querySelector("#frmLazyLoadDeliveryExpress [name=TotalGoodsMoney]").value=+document.querySelector("[data-total-selling-money]").dataset.totalMoney,document.querySelector("#frmLazyLoadDeliveryExpress [name=WarehouseId]").value=document.querySelector("#frmShipInfo #WarehouseId").value,document.querySelector("#frmLazyLoadDeliveryExpress [name=DropAddress]").value=txtAddress.value,document.querySelector("#frmLazyLoadDeliveryExpress [name=VnDropLocationId]").value=txtVnLocationId.value,document.querySelector("#frmLazyLoadDeliveryExpress [name=DropLatitude]").value=document.querySelector("._id-suggest-location-container [type=radio]:checked").dataset.latitude,document.querySelector("#frmLazyLoadDeliveryExpress [name=DropLongitude]").value=document.querySelector("._id-suggest-location-container [type=radio]:checked").dataset.longitude,document.getElementById("btnLazyLoadDeliveryExpressSelector").click()}