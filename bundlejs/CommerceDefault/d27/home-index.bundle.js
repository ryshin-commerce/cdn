"use strict";function TabPages(){this.Extend=function(e,t,a){var n=e.dataset.activeTabNumber;this.SelectedTabNumber=+n||-1,this.NavElement=e,this.Tabs=t,this.TabContains=a,this.Process()},this.SetActive=function(e){this.SelectedTabNumber=+e||-1,this.NavElement.dataset.activeTabNumber=+e||-1,this.Tabs[--e].dataset.enable="True"},this.SetDeActive=function(e){var t=--e;null!=this.Tabs[t]&&(this.Tabs[t].dataset.enable="False")},this.Process=function(){for(var e=this,t=0;t<this.Tabs.length;t++)this.Tabs[t].addEventListener("click",function(t){if("False"!=t.currentTarget.dataset.enable&&"False"!=t.target.dataset.enable&&(t.currentTarget.dataset.tabUrl&&history.replaceState(null,null,t.currentTarget.dataset.tabUrl),e.SelectedTabNumber=+t.currentTarget.dataset.tab||-1,e.NavElement.dataset.activeTabNumber=e.SelectedTabNumber,t.currentTarget.dataset.callback)){for(var a=null,n=0;n<e.TabContains.length;n++)if(e.TabContains[n].dataset.tabContent===t.currentTarget.dataset.tab){a=e.TabContains[n];break}Site.GetFunction(t.currentTarget.dataset.callback,["tabNumber","tabContainerElement"]).apply(t.currentTarget,[e.SelectedTabNumber,a])}})},this.Init=function(e){var t=document.querySelector(e);if(t){var a=t.parentNode.querySelectorAll("[data-tab]"),n=t.parentNode.querySelectorAll("[data-tab-content]");this.Extend(t,a,n)}}}var btnSearchProductName,fileUploadNewReview,imputDocumentFile,btnLazyLoadProducts,imageCaptcha;function lazyLoadVideo(e){Site.InnitPopup(e)}function uploadVideo(e){Site.AddAttribute("#objVideoUrl","data","https://www.youtube.com/embed/"+e.event.target.dataset.videoId+"?html5=1&autoplay=1&amp;rel=0&amp;hl=vi_US&amp;version=3")}function stopVideo(e){Site.AddAttribute("#objVideoUrl","data","https://www.youtube.com/embed/stop")}function initContactForm(){(imageCaptcha=document.querySelector("[data-captcha-container] ._image-wrap"))&&imageCaptcha.addEventListener("click",function(e){reloadImage()}),innitFileUploadContactForm()}function innitFileUploadContactForm(){if(imputDocumentFile=document.getElementById("inputDetailFromFile")){var e=imputDocumentFile.dataset.curentPathFiles&&""!==imputDocumentFile.dataset.curentPathFiles?[imputDocumentFile.dataset.curentPathFiles]:null,t=imputDocumentFile.dataset.curentShowingImages&&""!==imputDocumentFile.dataset.curentShowingImages?[imputDocumentFile.dataset.curentShowingImages]:null,a=imputDocumentFile.dataset.maxFile&&""!==imputDocumentFile.dataset.maxFile?+imputDocumentFile.dataset.maxFile:3,n=imputDocumentFile.dataset.maxFile&&""!==imputDocumentFile.dataset.maxSize?+imputDocumentFile.dataset.maxSize:5;(fileUploadNewReview=new FileUpload).Init(null,e,t,"#inputDetailFromFile","#newReviewContainer","#newReviewContainer","#frmContact",a,console.log("change"),!0,"DetailFormFile",n)}}function clearform(){$("#frmContact")[0].reset();var e=document.getElementById("newReviewContainer");e&&(e.innerHTML="")}function reloadImage(){var e=new Date;$("#img-captcha").attr("src","/get-captcha-image?"+e.getTime())}function loadSuggestProducts(){var e=document.querySelector("#formLazySuggestProduct #inputContainer");if(e&&LocalStorageHelper.Get(LocalStorageNamesEnum.UserCategoryList)){var t=LocalStorageHelper.Get(LocalStorageNamesEnum.UserCategoryList).sort(function(e,t){return 5*e.InOrderCount+3*e.CompleteCount+2*e.AddToCartCount+e.ViewCount>5*t.InOrderCount+3*t.CompleteCount+2*t.AddToCartCount+t.ViewCount?1:-1});t.length=Math.min(3,t.length);for(var a="",n=0;n<t.length;n++){a+='<input class="hide" type="text" name="CategoryLogModels['+n+'].CategoryId" value="'+t[n].CategoryId+'">'+('<input class="hide" type="number" name="CategoryLogModels['+n+'].ViewCount" value="'+t[n].ViewCount+'">')+('<input class="hide" type="number" name="CategoryLogModels['+n+'].AddToCartCount" value="'+t[n].AddToCartCount+'">')+('<input class="hide" type="number" name="CategoryLogModels['+n+'].InOrderCount" value="'+t[n].InOrderCount+'">')+('<input class="hide" type="number" name="CategoryLogModels['+n+'].CompleteCount" value="'+t[n].CompleteCount+'">')}e.innerHTML=a,document.getElementById("btnReloadSuggestProduct").click()}}function loadUserViewedProduct(){var e=LocalStorageHelper.Get(LocalStorageNamesEnum.ViewProductClassificationIds),t=document.querySelector("#productViewedContainer");if(e&&e.length&&t){var a=e.length;t.dataset.itemCount&&(a=Math.min(a,t.dataset.itemCount));for(var n=0;n<a;n++){var o=e[n],i='<a href="[ProductUrl]" title="[ProductName]" class="_image-wrap -tablet-margin-bottom rounded-4 border-1 solid border-silver padding-5"> <img alt="[ProductName]" loading="lazy" class="r-lazy" src="[ProductThumnailUrl]"></a>';i=(i=(i=i.replace(/\[ProductUrl\]/g,o.ProductUrl)).replace(/\[ProductName\]/g,o.ProductName)).replace(/\[ProductThumnailUrl\]/g,o.ProductThumnailUrl),o=Site.HtmlToElement(i),t.appendChild(o[0])}}}function loadSuggestProductSwipper(){}function flashsaleCoutDown(e){var t=document.querySelector(e);if(t)for(var a=t.querySelectorAll("[data-flash-deal-count-down]"),n=0;n<a.length;n++){var o=Site.FindParent(a[n],"_p-product-widget");checkTimeCountDown(e+" [data-product-id='"+o.dataset.productId+"']")}}function loadProductSlider(e,t,a,n,o){new Swiper(e,{spaceBetween:5,slidesPerView:n,centerInsufficientSlides:!0,slidesPerColumn:o,navigation:{prevEl:t,nextEl:a}})}function loadDiscountCodeSliderForMobile(){if(Site.IsMobileBackend())new Swiper("._idDiscountCodeListContainer.swiper-container",{centeredSlides:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}function initListVoucher(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=document.querySelectorAll("._idDiscountCodeListContainer [data-generate-barcode]"),n=0;n<a.length;n++)new QRCode(a[n],{text:a[n].dataset.generateBarcode,width:e,height:t,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.L});loadDiscountCodeSliderForMobile(),loadCountDown()}function loadCountDown(){var e=0;setInterval(function(){e-=1;for(var t=document.querySelectorAll("._idDiscountCodeListContainer [data-count-down]"),a=0;a<t.length;a++){if(!t)return;var n=t[a].dataset.countDown,o=Math.floor(n/86400),i=n%86400+e;if(-1===(i-=1))return void clearInterval(counter);var r=i%60,l=Math.floor(i/60),d=Math.floor(l/60);(l%=60)<10&&(l="0"+l),(d%=60)<10&&(d="0"+d),r<10&&(r="0"+r),t[a].innerHTML=(o>0?o+" ng√†y<br> ":"")+"<span count-down>"+d+":"+l+":"+r+"</span>"}},1e3)}function pushNotificationCallBack(){PushNotifications.bindingUi("[data-contact]")}function processPopup(){var e=document.getElementById("homepageNotification");if(e){var t,a=null!==(t=LocalStorageHelper.Get(LocalStorageNamesEnum.HomePagePopUp))&&void 0!==t?t:3;if(a-=1,LocalStorageHelper.Set(LocalStorageNamesEnum.HomePagePopUp,a),a<1)return;e.removeAttribute("hidden"),e.classList.add("visible")}else LocalStorageHelper.Set(LocalStorageNamesEnum.HomePagePopUp,3)}function init(){btnLazyLoadProducts=document.querySelectorAll("form[data-selector-lazyload-products] [type='submit']")}function lazyloadCategoriesProduct(){for(var e=0;e<btnLazyLoadProducts.length;e++)btnLazyLoadProducts[e].click()}function loadFlashSaleSwiper(){widgetFlashSaleSwiper(2,4,5)}function loadSwipper(e){e=e||".swiper-container",e+=" ",console.log(e);new Swiper(e,{autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:e+".swiper-button-next",prevEl:e+".swiper-button-prev"}})}function loadSwipperHome(e){new Swiper(e,{pagination:{el:e+" [data-pagination-1]",dynamicBullets:!0},autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:e+".swiper-button-next",prevEl:e+".swiper-button-prev"}})}function loadBrandSwipper(e){var t=document.querySelector("[data-device=Mobile]"),a=document.querySelector("[data-device=Desktop]"),n=8;t?n=3:a||(n=5);new Swiper(e+" .swiper-container",{slidesPerView:n,slidesPerGroup:n,loop:!0,loopFillGroupWithBlank:!0,spaceBetween:10,navigation:{nextEl:e+" .swiper-button-next-brand",prevEl:e+" .swiper-button-prev-brand"}})}document.addEventListener("DOMContentLoaded",function(){loadUserViewedProduct()}),document.addEventListener("DOMContentLoaded",function(){}),document.addEventListener("DOMContentLoaded",function(){init(),loadSwipperHome("[data-container-slider] .swiper-container"),loadSwipper("[data-review] .swiper-container"),loadBrandSwipper("[data-brand-name]"),lazyloadCategoriesProduct(),PushNotifications.initialize(pushNotificationCallBack),loadSuggestProducts(),initListVoucher(),processPopup()}),window.addEventListener&&window.addEventListener("load",function(){submitProductWidgetAction("[data-bestseller]"),submitProductWidgetAction("[data-new-products]")}),window.onload=function(){submitProductWidgetAction("[data-bestseller]"),submitProductWidgetAction("[data-new-products]")};